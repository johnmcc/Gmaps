$.fn.gmap=function(a){function b(a,b,c){var d=new google.maps.InfoWindow({content:c});google.maps.event.addListener(b,"click",function(c){d.open(a,b)})}return this.each(function(){var c={width:0,height:0,latitude:0,longitude:0,markers:[],zoom:12,zoomAndCentre:false,mapType:google.maps.MapTypeId.ROADMAP};if(a){$.extend(c,a)}$(this).css({display:"block",width:c.width,height:c.height});var d=new google.maps.LatLng(c.latitude,c.longitude),e={zoom:c.zoom,center:d,mapTypeId:c.mapType},f=new google.maps.Map(document.getElementById($(this).attr("id")),e);if(c.markers.length>0){var g=[];for(var h=0;h<c.markers.length;h++){var i=new google.maps.LatLng(c.markers[h].latitude,c.markers[h].longitude);g.push(i);var j=new google.maps.Marker({position:i,map:f});if(c.markers[h].text!=undefined){b(f,j,c.markers[h].text)}}if(c.zoomAndCentre){var k=new google.maps.LatLngBounds;for(var h=0;h<g.length;h++){k.extend(g[h])}f.fitBounds(k)}}})}